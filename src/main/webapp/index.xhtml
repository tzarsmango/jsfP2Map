<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">
<h:head>
    <title>Postcode to Map</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet"/>

    <!--<script src="http://maps.google.com/maps/api/js?sensor=false" type="text/javascript"></script>-->
    <script src="http://maps.google.com/maps/api/js?key=AIzaSyCX82eRpkuwIFrVhlxGr2m5vWMHPTvQq_E" type="text/javascript"></script>
</h:head>
<h:body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false"
                        aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="index.xhtml"><img src="img/p2maplogo.png" alt="P2Map" height="26"/></a>
            </div>
            <div id="navbar" class="collapse navbar-collapse">
                <ul class="nav navbar-nav">
                    <li><a href="index.xhtml">Home</a></li>
                    <li><a href="#">About</a></li>
                    <li><a href="#">Contact</a></li>
                </ul>
            </div><!--/.nav-collapse -->
        </div>
    </nav>
    <div class="row">
        <div class="col-md-1"></div>
        <div class="col-md-10">>
            <p:spacer height="60"/>
            <p:panelGrid columns="1" columnClasses="ui-grid-col-12" layout="grid" styleClass="ui-panelgrid-blank">
                P2Map is a small application prepared to mark the corner stones of a simple JSF application. The technologies
                used while developing this application are mongodb as the postcode vs location information store, JSF 2.x as
                the front-end layer, PrimeFaces as teh JSF component library, JBoss WildFly as the application server.
                Morphia is used to map the mongo documents into java objects. Bootsrap is used for Maven is used for dependency
                management.
            </p:panelGrid>
            <p:spacer height="20"/>
            <div class="ui-fluid">
                <h:form>
                    <p:panelGrid columns="2" columnClasses="ui-grid-col-2,ui-grid-col-10" layout="grid" styleClass="ui-panelgrid-blank">
                        <p:spacer width="10"/>
                        <p:outputLabel id="display" value="#{postcodeBean.resultMessage}"/>
                        <p:outputLabel for="searchText" value="Enter postcode" />
                        <p:inputText id="searchText" value="#{postcodeBean.searchText}"/>
                        <p:spacer width="10"/>
                        <p:commandButton value="Submit" update="display, pmap" icon="ui-icon-check" action="#{postcodeBean.findPostcodeLocation}"/>
                    </p:panelGrid>
                </h:form>
            </div>
            <p:spacer height="20"/>
            <p:gmap id="pmap" center="#{postcodeBean.postcode.latitude},#{postcodeBean.postcode.longitude}"
                    zoom="15" type="MAP" style="width:100%;height:400px" model="#{mapBean.model}"/>
            <p:spacer height="20"/>
        </div>
        <div class="col-md-1"></div>
    </div>
    <footer class="footer">
        <div class="container">
            <p class="text-muted">Â© 2017 P2Map Inc.</p>
        </div>
    </footer>
    <script src="js/vendor/bootstrap.min.js" type="text/javascript"></script>
</h:body>
</html>